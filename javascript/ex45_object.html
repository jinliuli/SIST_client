<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- ex45_object.html -->
    
    <script>
    
    //객체 생성
    const u1 = {
      name: '홍길동',
      age: 20  
    };
    
    const u2 = {
      name: '아무개',
      age: 22
    };
    
    
    //생성자 함수
    //- 클래스 역할을 대신
    //- 자바의 생성자와 유사
    /* 
    class User {
        private String name;
        private int age;
        
        public User(String name, int age) {
            this.name = name;
            this.age = age;
        }
    }
    */
    
    //생성자 함수
    //- 함수명이 파스칼 표기법으로 작성한다.(문법X)
    //- 역할 > 생성자
    function User(name, age) {
        this.name = name; //private String name;
        this.age = age;   //private int name;
        //console.log(this); //Window {window: Window, self: Window, document: document, name: '강아지', location: Location, …}
    }
    
    
    //*** 생성자 함수 호출은 절대로 그냥 함수처럼 호출하면 안된다.
    //User('강아지', 3);
    
    //*** 생성자 함수는 반드시 new와 함께 사용한다.
    //1. new 호출 > 객체를 생성 > new Object() 실행 (빈객체생성)
    //  - new Object()
    //  - {}
    //2. User() 호출 > 1번에 만든 객체를 초기화
    
    const o1 = new User('고양이', 2);
    console.log(o1);//User {name: '고양이', age: 2}
    
    const o2 = new User('거북이', 100);
    console.log(o2);//User {name: '거북이', age: 100} > User {name: '거북이', age: undefined}
    
    const o3 = {
        name: '두루미',
        age: 50
    };
    console.log(o3);//{name: '두루미', age: 50} > {name: '두루미'}
    
    
    
    
    
    //1. {}
    //2. Array()
    const list = new Array();
    
    function Array() {
        this.length = 0;
    }
    
    
    
    
    
    const obj1 = {};
    const obj2 = new Date();
    const obj3 = new Array();
    
    console.log(typeof obj1); //object
    console.log(typeof obj2); //object
    console.log(typeof obj3); //object
    
    //constructor은 본인의 생성자 함수
    console.log(obj1.constructor); //ƒ Object() { [native code] }
    console.log(obj2.constructor); //ƒ Date() { [native code] }
    console.log(obj3.constructor); //ƒ Array() { this.length = 0; }
    
    
    
    const user1 = {
        name: '유재석',
        age: 20,
        // info: function() {
        //     // console.log(name, age); //에러: age is not defined at Object
        //     // console.log(name); //아무것도 안찍힘
        //     console.log(this.name, this.age); //유재석 20
        // }
        info: f1
    };
    
    function f1() {
        //** 호출되는 주체에 따라 this가 매번 달라질 수 있다.
        console.log(this.name, this.age); //어떤 object에 따라 호출되는 애가 다름
    }
    
    user1.info(); //user1.f1() 호출 > 유재석 20
    
    f1(); //window.f1() 호출 > undefined 
    
    
    
    </script>
</body>
</html>